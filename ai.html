<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Classifier Demo</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="styles/stylesheets.css" />

  <!-- TensorFlow + Teachable Machine Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
</head>

<body>
  <!-- Navigation -->
  <header>
    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="bias-resources.html">Resources</a></li>
        <li><a href="tech-hero.html">Tech Heros</a></li>
	<li><a href="ai.html">Teachable Machine</a></li>

      </ul>
    </nav>
  </header>

  <!-- Main content -->
  <main class="container">
    <h1>Teachable Machine Image Classifier</h1>
    <p>This interactive demo uses your webcam to classify images in real-time using a model trained in Teachable Machine.</p>

    <!-- Start Button -->
    <button type="button" onclick="init()">Start Webcam Classifier</button>

    <!-- Webcam & Label Containers -->
    <div id="webcam-container" style="margin-top: 20px;"></div>
    <div id="label-container" style="margin-top: 10px; font-size: 18px;"></div>
  </main>

  <!-- Optional Footer -->
  <footer>
    <p>&copy; 2025 - Your Project Team</p>
  </footer>

  <!-- Teachable Machine Script -->
  <script type="text/javascript">
    const URL = "./my_model/";

    let model, webcam, labelContainer, maxPredictions;

    async function init() {
      const modelURL = URL + "model.json";
      const metadataURL = URL + "metadata.json";

      model = await tmImage.load(modelURL, metadataURL);
      maxPredictions = model.getTotalClasses();

      const flip = true;
      webcam = new tmImage.Webcam(200, 200, flip);
      await webcam.setup();
      await webcam.play();
      window.requestAnimationFrame(loop);

      document.getElementById("webcam-container").appendChild(webcam.canvas);
      labelContainer = document.getElementById("label-container");
      labelContainer.innerHTML = "";
      for (let i = 0; i < maxPredictions; i++) {
        labelContainer.appendChild(document.createElement("div"));
      }
    }

    async function loop() {
      webcam.update();
      await predict();
      window.requestAnimationFrame(loop);
    }

    async function predict() {
      const prediction = await model.predict(webcam.canvas);
      for (let i = 0; i < maxPredictions; i++) {
        const classPrediction =
          prediction[i].className + ": " + prediction[i].probability.toFixed(2);
        labelContainer.childNodes[i].innerHTML = classPrediction;
      }
    }
  </script>
</body>
</html>
